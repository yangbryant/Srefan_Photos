{"version":3,"sources":["main.js","plugins.js"],"names":["sidebarHeight","innerHeight","jQuery","height","footerHeight","windowHeight","window","switchClass","addClass","removeClass","$","process","check_lock","index","selectorsLength","selectors","length","$appeared","filter","this","is","trigger","$prior_appeared","$disappeared","not","add_selector","selector","push","check_binded","defaults","interval","force_process","$window","expr","element","$element","window_left","scrollLeft","window_top","scrollTop","offset","left","top","data","width","fn","extend","appear","options","opts","on_check","setTimeout","scroll","resize","force_appear","module","require","fitVids","settings","customSelector","document","getElementById","head","getElementsByTagName","css","div","createElement","innerHTML","appendChild","childNodes","each","$allVideos","find","join","$this","tagName","toLowerCase","parent","attr","isNaN","parseInt","aspectRatio","videoID","Math","floor","random","wrap","removeAttr","Zepto","undefined","$document","ready","$postContent","$grid","imagesLoaded","masonry","itemSelector","percentPosition","transitionDuration","on","event","$all_appeared_elements","fadeOut","preventDefault","toggleClass"],"mappings":"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","file":"all.min.js","sourcesContent":["/**\n * Main JS file for Paperleaf behaviours\n */\n\n/* globals jQuery, document */\n(function ($, undefined) {\n  \"use strict\";\n\n  var $document = $(document);\n\n  $document.ready(function () {\n\n    /**\n     * FitVids.js for responsive videos\n     */\n    var $postContent = $(\".post-content\");\n    $postContent.fitVids();\n\n    /**\n     * Masonry grid\n     */\n    var $grid = $('.js-grid').imagesLoaded( function() {\n      $grid.masonry({\n        itemSelector       : '.post',\n        percentPosition    : true,\n        transitionDuration : '0.25s'\n      });\n      $.force_appear();\n    });\n\n    /**\n     * Add class to elements that appear in viewport\n     */\n    $('.post--grid').appear();\n    $('.post--grid').on('appear', function(event, $all_appeared_elements) {\n      $(this).addClass('animate');\n    });\n\n    /**\n     * Preloader\n     */\n    $('body').imagesLoaded( function() {\n      $('.js-loader').fadeOut(250);\n    });\n\n    /**\n     * Handle sidebar height for phones and tablets\n     */\n    $(window).on('resize', function(event) {\n      sidebarHeight();\n    });\n    sidebarHeight();\n\n    $('.js-toggle-nav').on('click', function(event) {\n      event.preventDefault();\n      $(this).toggleClass('open');\n      $('.js-nav').toggleClass('is-visible');\n    });\n\n  });\n\n})(jQuery);\n\nfunction sidebarHeight() {\n  var innerHeight = jQuery('.js-sidebar-inner').height();\n  var footerHeight = jQuery('.js-sidebar-footer').height();\n  var windowHeight = jQuery(window).height();\n  var switchClass = ( innerHeight + footerHeight + 192 ) > windowHeight ? true : false;\n  if ( switchClass ) {\n    jQuery('.js-sidebar-footer').addClass('sidebar-footer-static');\n  } else {\n    jQuery('.js-sidebar-footer').removeClass('sidebar-footer-static');\n  }\n}\n","/*\n * jQuery appear plugin\n *\n * Copyright (c) 2012 Andrey Sidorov\n * licensed under MIT license.\n *\n * https://github.com/morr/jquery.appear/\n *\n * Version: 0.3.6\n */\n(function($) {\n  var selectors = [];\n\n  var check_binded = false;\n  var check_lock = false;\n  var defaults = {\n    interval: 250,\n    force_process: false\n  };\n  var $window = $(window);\n\n  var $prior_appeared = [];\n\n  function process() {\n    check_lock = false;\n    for (var index = 0, selectorsLength = selectors.length; index < selectorsLength; index++) {\n      var $appeared = $(selectors[index]).filter(function() {\n        return $(this).is(':appeared');\n      });\n\n      $appeared.trigger('appear', [$appeared]);\n\n      if ($prior_appeared[index]) {\n        var $disappeared = $prior_appeared[index].not($appeared);\n        $disappeared.trigger('disappear', [$disappeared]);\n      }\n      $prior_appeared[index] = $appeared;\n    }\n  };\n\n  function add_selector(selector) {\n    selectors.push(selector);\n    $prior_appeared.push();\n  }\n\n  // \"appeared\" custom filter\n  $.expr[':']['appeared'] = function(element) {\n    var $element = $(element);\n    if (!$element.is(':visible')) {\n      return false;\n    }\n\n    var window_left = $window.scrollLeft();\n    var window_top = $window.scrollTop();\n    var offset = $element.offset();\n    var left = offset.left;\n    var top = offset.top;\n\n    if (top + $element.height() >= window_top &&\n        top - ($element.data('appear-top-offset') || 0) <= window_top + $window.height() &&\n        left + $element.width() >= window_left &&\n        left - ($element.data('appear-left-offset') || 0) <= window_left + $window.width()) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  $.fn.extend({\n    // watching for element's appearance in browser viewport\n    appear: function(options) {\n      var opts = $.extend({}, defaults, options || {});\n      var selector = this.selector || this;\n      if (!check_binded) {\n        var on_check = function() {\n          if (check_lock) {\n            return;\n          }\n          check_lock = true;\n\n          setTimeout(process, opts.interval);\n        };\n\n        $(window).scroll(on_check).resize(on_check);\n        check_binded = true;\n      }\n\n      if (opts.force_process) {\n        setTimeout(process, opts.interval);\n      }\n      add_selector(selector);\n      return $(selector);\n    }\n  });\n\n  $.extend({\n    // force elements's appearance check\n    force_appear: function() {\n      if (check_binded) {\n        process();\n        return true;\n      }\n      return false;\n    }\n  });\n})(function() {\n  if (typeof module !== 'undefined') {\n    // Node\n    return require('jquery');\n  } else {\n    return jQuery;\n  }\n}());\n\n/*global jQuery */\n/*jshint browser:true */\n/*!\n* FitVids 1.1\n*\n* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n*\n*/\n\n(function( $ ){\n\n  \"use strict\";\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement('div');\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        \"iframe[src*='player.vimeo.com']\",\n        \"iframe[src*='youtube.com']\",\n        \"iframe[src*='youtube-nocookie.com']\",\n        \"iframe[src*='kickstarter.com'][src*='video.html']\",\n        \"object\",\n        \"embed\"\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not(\"object object\"); // SwfObj conflict patch\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('id')){\n          var videoID = 'fitvid' + Math.floor(Math.random()*999999);\n          $this.attr('id', videoID);\n        }\n        $this.wrap('<div class=\"fluid-width-video-wrapper\"></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+\"%\");\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n// Works with either jQuery or Zepto\n})( window.jQuery || window.Zepto );\n"]}